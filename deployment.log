[0;34m[2025-10-21 13:06:21][0m Starting deployment script - Section 1
[0;34m[2025-10-21 13:06:21][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 13:08:24] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 13:10:41] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 13:11:03][0m Using branch: master

[0;34m[2025-10-21 13:11:03][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 13:16:26] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;34m[2025-10-21 13:32:43][0m Starting deployment script - Section 1
[0;34m[2025-10-21 13:32:43][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;31m[2025-10-21 13:33:00] ERROR:[0m Invalid Git repository URL format. Must be HTTPS (https://...git) or SSH (git@...git) format.
[1;33m[2025-10-21 13:33:00] WARNING:[0m Validation failed. Please try again.
Git Repository URL: [0;32m[2025-10-21 13:33:13] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 13:33:21] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 13:33:26][0m Using branch: master

[0;34m[2025-10-21 13:33:26][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 13:34:00] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;31m[2025-10-21 13:39:17] ERROR:[0m SSH key file not found: /root/.ssh/id_ed25519
[1;33m[2025-10-21 13:39:17] WARNING:[0m Please provide a valid SSH key path
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 13:52:22] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;34m[2025-10-21 14:12:09][0m Starting deployment script - Section 1
[0;34m[2025-10-21 14:12:09][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 14:13:46] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 14:14:00] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 14:14:04][0m Using branch: master

[0;34m[2025-10-21 14:14:04][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 14:14:31] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 14:14:49] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 14:14:53] SUCCESS:[0m Port validated

[0;34m[2025-10-21 14:14:53][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 14:14:53][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 14:14:53][0m Branch: master
[0;34m[2025-10-21 14:14:53][0m SSH Username: root
[0;34m[2025-10-21 14:14:53][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 14:14:53][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 14:14:54][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 14:16:39] SUCCESS:[0m All parameters collected and validated successfully
[0;32m[2025-10-21 14:16:39] SUCCESS:[0m Section 1 completed successfully. Parameters are ready for deployment.

[0;34m[2025-10-21 14:16:39][0m Next steps:
[0;34m[2025-10-21 14:16:39][0m 1. SSH connection test to remote server
[0;34m[2025-10-21 14:16:39][0m 2. Clone and build application
[0;34m[2025-10-21 14:16:39][0m 3. Deploy Docker containers

[0;34m[2025-10-21 14:33:43][0m Starting deployment script
[0;34m[2025-10-21 14:33:43][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 14:33:57] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 14:34:13] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 14:34:17][0m Using branch: master

[0;34m[2025-10-21 14:34:17][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 14:34:41] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 14:34:52] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 14:35:01] SUCCESS:[0m Port validated

[0;34m[2025-10-21 14:35:01][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 14:35:01][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 14:35:01][0m Branch: master
[0;34m[2025-10-21 14:35:01][0m SSH Username: root
[0;34m[2025-10-21 14:35:01][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 14:35:01][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 14:35:01][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 14:35:13] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 14:35:13][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 14:35:13][0m Repository name: pick-me-backend
[0;34m[2025-10-21 14:35:13][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 14:35:13][0m Cloning repository from: https://github.com/Peliah/pick-me-backend.git
Cloning into '/home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend'...
[0;32m[2025-10-21 14:35:17] SUCCESS:[0m Repository cloned successfully
[0;34m[2025-10-21 14:35:17][0m Switching to existing branch: master
Already on 'master'
Your branch is up to date with 'origin/master'.
[0;32m[2025-10-21 14:35:17] SUCCESS:[0m Switched to branch: master
[0;34m[2025-10-21 14:35:17][0m Latest commit: 3194737 added dockerfile
[0;32m[2025-10-21 14:35:17] SUCCESS:[0m Section 2 completed successfully
[0;32m[2025-10-21 14:35:17] SUCCESS:[0m Sections 1-2 completed successfully

[0;34m[2025-10-21 14:35:17][0m Next steps:
[0;34m[2025-10-21 14:35:17][0m 1. Test SSH connection to remote server
[0;34m[2025-10-21 14:35:17][0m 2. Build Docker images
[0;34m[2025-10-21 14:35:17][0m 3. Deploy to remote server

[0;34m[2025-10-21 14:35:17][0m Repository ready at: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 14:53:43][0m Starting deployment script
[0;34m[2025-10-21 14:53:43][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 14:53:57] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 14:54:08] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 14:54:13][0m Using branch: master

[0;34m[2025-10-21 14:54:13][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 14:54:35] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 14:54:45] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 14:54:51] SUCCESS:[0m Port validated

[0;34m[2025-10-21 14:54:51][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 14:54:51][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 14:54:51][0m Branch: master
[0;34m[2025-10-21 14:54:51][0m SSH Username: root
[0;34m[2025-10-21 14:54:51][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 14:54:51][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 14:54:51][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 14:54:55] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 14:54:55][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 14:54:55][0m Repository name: pick-me-backend
[0;34m[2025-10-21 14:54:55][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 14:54:55][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 14:54:55][0m No local changes detected
[0;34m[2025-10-21 14:54:55][0m Fetching latest changes from remote...
[0;34m[2025-10-21 14:54:57][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 14:55:00] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 14:55:00][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;31m[2025-10-21 14:55:00] ERROR:[0m REPO_DIR is not set. Cannot navigate to repository directory.
[0;34m[2025-10-21 14:58:35][0m Starting deployment script
[0;34m[2025-10-21 14:58:35][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 14:58:52] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 14:59:01] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 14:59:07][0m Using branch: master

[0;34m[2025-10-21 14:59:07][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 14:59:19] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 14:59:31] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 14:59:36] SUCCESS:[0m Port validated

[0;34m[2025-10-21 14:59:36][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 14:59:36][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 14:59:36][0m Branch: master
[0;34m[2025-10-21 14:59:36][0m SSH Username: root
[0;34m[2025-10-21 14:59:36][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 14:59:36][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 14:59:36][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 14:59:40] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 14:59:40][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 14:59:40][0m Repository name: pick-me-backend
[0;34m[2025-10-21 14:59:40][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 14:59:40][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 14:59:40][0m No local changes detected
[0;34m[2025-10-21 14:59:40][0m Fetching latest changes from remote...
[0;34m[2025-10-21 14:59:42][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 14:59:45] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 14:59:45][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
REPO_DIR:
[0;31m[2025-10-21 14:59:45] ERROR:[0m REPO_DIR is not set. Cannot navigate to repository directory.
[0;34m[2025-10-21 15:09:38][0m Starting deployment script
[0;34m[2025-10-21 15:09:38][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 15:19:03] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 15:19:12] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 15:19:17][0m Using branch: master

[0;34m[2025-10-21 15:19:17][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 15:19:35] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 15:19:56] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 15:20:00] SUCCESS:[0m Port validated

[0;34m[2025-10-21 15:20:00][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 15:20:00][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 15:20:00][0m Branch: master
[0;34m[2025-10-21 15:20:00][0m SSH Username: root
[0;34m[2025-10-21 15:20:00][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 15:20:00][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 15:20:00][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 15:20:02] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 15:20:02][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 15:20:02][0m Repository name: pick-me-backend
[0;34m[2025-10-21 15:20:02][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:20:02][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 15:20:02][0m No local changes detected
[0;34m[2025-10-21 15:20:02][0m Fetching latest changes from remote...
[0;34m[2025-10-21 15:20:06][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 15:20:08] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 15:20:08][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
REPO_DIR:
[0;31m[2025-10-21 15:20:08] ERROR:[0m REPO_DIR is not set. Cannot navigate to repository directory.
[0;34m[2025-10-21 15:22:27][0m Starting deployment script
[0;34m[2025-10-21 15:22:27][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 15:22:37] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 15:22:46] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 15:22:52][0m Using branch: master

[0;34m[2025-10-21 15:22:52][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 15:23:03] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 15:23:12] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 15:23:17] SUCCESS:[0m Port validated

[0;34m[2025-10-21 15:23:17][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 15:23:17][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 15:23:17][0m Branch: master
[0;34m[2025-10-21 15:23:17][0m SSH Username: root
[0;34m[2025-10-21 15:23:17][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 15:23:17][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 15:23:17][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 15:23:19] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 15:23:19][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 15:23:19][0m Repository name: pick-me-backend
[0;34m[2025-10-21 15:23:19][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:23:19][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 15:23:19][0m No local changes detected
[0;34m[2025-10-21 15:23:19][0m Fetching latest changes from remote...
[0;34m[2025-10-21 15:23:23][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 15:23:26] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 15:23:26][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 15:23:26][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 15:23:26][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:23:26][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:23:26][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 15:23:26] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:23:26][0m Checking for Docker configuration files...
[0;34m[2025-10-21 15:23:26][0m Found: Dockerfile
[0;32m[2025-10-21 15:23:26] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 15:23:26][0m Validating Dockerfile...
[0;34m[2025-10-21 15:23:26][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 15:23:26] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 15:23:26][0m Project structure overview:
[0;34m[2025-10-21 15:23:26][0m   - ./Dockerfile
[0;34m[2025-10-21 15:23:26][0m   - ./.env
[0;32m[2025-10-21 15:23:26] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 15:23:26][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 15:23:26] SUCCESS:[0m Sections 1-3 completed successfully

[0;34m[2025-10-21 15:23:26][0m Next steps:
[0;34m[2025-10-21 15:23:26][0m 1. Build Docker images (if Dockerfile exists)
[0;34m[2025-10-21 15:23:26][0m 2. Test SSH connection to remote server
[0;34m[2025-10-21 15:23:26][0m 3. Deploy to remote server

[0;34m[2025-10-21 15:23:26][0m Repository ready at: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:23:26][0m Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:39:16][0m Starting deployment script
[0;34m[2025-10-21 15:39:16][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 15:39:36] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 15:39:49] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 15:39:54][0m Using branch: master

[0;34m[2025-10-21 15:39:54][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 15:40:18] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 15:40:29] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 15:40:32] SUCCESS:[0m Port validated

[0;34m[2025-10-21 15:40:32][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 15:40:32][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 15:40:32][0m Branch: master
[0;34m[2025-10-21 15:40:32][0m SSH Username: root
[0;34m[2025-10-21 15:40:32][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 15:40:32][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 15:40:32][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 15:40:35] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 15:40:35][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 15:40:35][0m Repository name: pick-me-backend
[0;34m[2025-10-21 15:40:35][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:40:35][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 15:40:35][0m No local changes detected
[0;34m[2025-10-21 15:40:35][0m Fetching latest changes from remote...
[0;34m[2025-10-21 15:40:38][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 15:40:42] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 15:40:42][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 15:40:42][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 15:40:42][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:40:42][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:40:42][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 15:40:42] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:40:42][0m Checking for Docker configuration files...
[0;34m[2025-10-21 15:40:42][0m Found: Dockerfile
[0;32m[2025-10-21 15:40:42] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 15:40:42][0m Validating Dockerfile...
[0;34m[2025-10-21 15:40:42][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 15:40:42] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 15:40:42][0m Project structure overview:
[0;34m[2025-10-21 15:40:42][0m   - ./Dockerfile
[0;34m[2025-10-21 15:40:42][0m   - ./.env
[0;32m[2025-10-21 15:40:42] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 15:40:42][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:40:42][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-21 15:40:42][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-21 15:40:44] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-21 15:40:44][0m Testing SSH connection to root@161.35.230.138...
[0;32m[2025-10-21 15:40:49] SUCCESS:[0m SSH connection test passed
[0;34m[2025-10-21 15:40:49][0m Gathering remote server information...
[0;34m[2025-10-21 15:48:39][0m Starting deployment script
[0;34m[2025-10-21 15:48:39][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 15:48:54] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 15:49:08] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 15:49:11][0m Using branch: master

[0;34m[2025-10-21 15:49:11][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 15:49:27] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 15:49:36] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 15:49:50] SUCCESS:[0m Port validated

[0;34m[2025-10-21 15:49:50][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 15:49:50][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 15:49:50][0m Branch: master
[0;34m[2025-10-21 15:49:50][0m SSH Username: root
[0;34m[2025-10-21 15:49:50][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 15:49:50][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 15:49:50][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 15:49:52] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 15:49:52][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 15:49:52][0m Repository name: pick-me-backend
[0;34m[2025-10-21 15:49:52][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:49:52][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 15:49:52][0m No local changes detected
[0;34m[2025-10-21 15:49:52][0m Fetching latest changes from remote...
[0;34m[2025-10-21 15:49:54][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 15:49:56] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 15:49:56][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 15:49:56][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 15:49:56][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:49:56][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:49:56][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 15:49:56] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:49:56][0m Checking for Docker configuration files...
[0;34m[2025-10-21 15:49:56][0m Found: Dockerfile
[0;32m[2025-10-21 15:49:56] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 15:49:56][0m Validating Dockerfile...
[0;34m[2025-10-21 15:49:56][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 15:49:56] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 15:49:56][0m Project structure overview:
[0;34m[2025-10-21 15:49:56][0m   - ./Dockerfile
[0;34m[2025-10-21 15:49:56][0m   - ./.env
[0;32m[2025-10-21 15:49:56] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 15:49:56][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:49:56][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-21 15:49:56][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-21 15:49:59] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-21 15:49:59][0m Testing SSH connection to root@161.35.230.138...
[0;32m[2025-10-21 15:50:04] SUCCESS:[0m SSH connection test passed
[0;34m[2025-10-21 15:50:04][0m Gathering remote server information...
[0;34m[2025-10-21 15:56:13][0m Starting deployment script
[0;34m[2025-10-21 15:56:13][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 15:57:47] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 15:57:55] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 15:58:00][0m Using branch: master

[0;34m[2025-10-21 15:58:00][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 15:58:16] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 15:58:58] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 15:59:01] SUCCESS:[0m Port validated

[0;34m[2025-10-21 15:59:01][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 15:59:01][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 15:59:01][0m Branch: master
[0;34m[2025-10-21 15:59:01][0m SSH Username: root
[0;34m[2025-10-21 15:59:01][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 15:59:01][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 15:59:01][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 15:59:06] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 15:59:06][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 15:59:06][0m Repository name: pick-me-backend
[0;34m[2025-10-21 15:59:06][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:59:06][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 15:59:06][0m No local changes detected
[0;34m[2025-10-21 15:59:06][0m Fetching latest changes from remote...
[0;34m[2025-10-21 15:59:16][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 15:59:28] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 15:59:28][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 15:59:28][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 15:59:28][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:59:28][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:59:28][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 15:59:28] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:59:28][0m Checking for Docker configuration files...
[0;34m[2025-10-21 15:59:28][0m Found: Dockerfile
[0;32m[2025-10-21 15:59:28] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 15:59:28][0m Validating Dockerfile...
[0;34m[2025-10-21 15:59:28][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 15:59:28] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 15:59:28][0m Project structure overview:
[0;34m[2025-10-21 15:59:28][0m   - ./Dockerfile
[0;34m[2025-10-21 15:59:28][0m   - ./.env
[0;32m[2025-10-21 15:59:28] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 15:59:28][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 15:59:28][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-21 15:59:28][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-21 15:59:30] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-21 15:59:30][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-21 15:59:35] SUCCESS:[0m SSH connection test passed
[0;34m[2025-10-21 15:59:35][0m Gathering remote server information...
[0;34m[2025-10-21 15:59:35][0m Getting basic system info...
[0;32m[2025-10-21 15:59:56] SUCCESS:[0m Remote system information gathered:
[0;34m[2025-10-21 15:59:56][0m   Hostname: ubuntu-s-1vcpu-512mb-10gb-sfo3-01
[0;34m[2025-10-21 15:59:56][0m   OS: Ubuntu 22.04.4 LTS
[0;34m[2025-10-21 15:59:56][0m   Kernel: 5.15.0-113-generic
[0;34m[2025-10-21 15:59:56][0m   CPU Cores: 1
[0;34m[2025-10-21 15:59:56][0m Checking Docker installation on remote server...
[0;34m[2025-10-21 22:58:07][0m Starting deployment script
[0;34m[2025-10-21 22:58:07][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 22:58:24] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 22:58:34] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 22:58:38][0m Using branch: master

[0;34m[2025-10-21 22:58:38][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 22:58:56] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 22:59:07] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 22:59:10] SUCCESS:[0m Port validated

[0;34m[2025-10-21 22:59:11][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 22:59:11][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 22:59:11][0m Branch: master
[0;34m[2025-10-21 22:59:11][0m SSH Username: root
[0;34m[2025-10-21 22:59:11][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 22:59:11][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 22:59:11][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 22:59:14] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 22:59:14][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 22:59:14][0m Repository name: pick-me-backend
[0;34m[2025-10-21 22:59:14][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 22:59:14][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 22:59:14][0m No local changes detected
[0;34m[2025-10-21 22:59:14][0m Fetching latest changes from remote...
fatal: unable to access 'https://github.com/Peliah/pick-me-backend.git/': Could not resolve host: github.com
[0;31m[2025-10-21 22:59:14] ERROR:[0m Failed to fetch from remote repository
[0;34m[2025-10-21 23:02:25][0m Starting deployment script
[0;34m[2025-10-21 23:02:25][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 23:02:37] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 23:02:45] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 23:02:50][0m Using branch: master

[0;34m[2025-10-21 23:02:50][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 23:03:09] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 23:03:19] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 23:03:24] SUCCESS:[0m Port validated

[0;34m[2025-10-21 23:03:24][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 23:03:24][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 23:03:24][0m Branch: master
[0;34m[2025-10-21 23:03:24][0m SSH Username: root
[0;34m[2025-10-21 23:03:24][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 23:03:24][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 23:03:24][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 23:03:26] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 23:03:26][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 23:03:26][0m Repository name: pick-me-backend
[0;34m[2025-10-21 23:03:26][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:03:26][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 23:03:26][0m No local changes detected
[0;34m[2025-10-21 23:03:26][0m Fetching latest changes from remote...
fatal: unable to access 'https://github.com/Peliah/pick-me-backend.git/': Could not resolve host: github.com
[0;31m[2025-10-21 23:03:51] ERROR:[0m Failed to fetch from remote repository
[0;34m[2025-10-21 23:04:17][0m Starting deployment script
[0;34m[2025-10-21 23:04:17][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 23:04:37] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 23:04:43] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 23:04:46][0m Using branch: master

[0;34m[2025-10-21 23:04:46][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 23:05:00] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 23:05:08] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 23:05:12] SUCCESS:[0m Port validated

[0;34m[2025-10-21 23:05:12][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 23:05:12][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 23:05:12][0m Branch: master
[0;34m[2025-10-21 23:05:12][0m SSH Username: root
[0;34m[2025-10-21 23:05:12][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 23:05:12][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 23:05:12][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 23:05:15] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 23:05:15][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 23:05:15][0m Repository name: pick-me-backend
[0;34m[2025-10-21 23:05:15][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:05:15][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 23:05:15][0m No local changes detected
[0;34m[2025-10-21 23:05:15][0m Fetching latest changes from remote...
[0;34m[2025-10-21 23:05:17][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 23:05:19] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 23:05:19][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 23:05:19][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 23:05:19][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:05:19][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:05:19][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 23:05:19] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:05:19][0m Checking for Docker configuration files...
[0;34m[2025-10-21 23:05:19][0m Found: Dockerfile
[0;32m[2025-10-21 23:05:19] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 23:05:19][0m Validating Dockerfile...
[0;34m[2025-10-21 23:05:19][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 23:05:19] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 23:05:19][0m Project structure overview:
[0;34m[2025-10-21 23:05:19][0m   - ./Dockerfile
[0;34m[2025-10-21 23:05:19][0m   - ./.env
[0;32m[2025-10-21 23:05:19] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 23:05:19][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:05:19][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-21 23:05:19][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-21 23:05:20] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-21 23:05:20][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-21 23:05:24] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-21 23:05:24] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-21 23:05:24][0m SSH connection established and verified
[0;34m[2025-10-21 23:05:24][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-21 23:05:24][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-21 23:05:24][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-21 23:05:24][0m Updating system packages on remote server...
Hit:1 http://mirrors.digitalocean.com/ubuntu jammy InRelease
Hit:2 https://repos-droplet.digitalocean.com/apt/droplet-agent main InRelease
Get:3 https://repos.insights.digitalocean.com/apt/do-agent main InRelease [5518 B]
Get:4 http://mirrors.digitalocean.com/ubuntu jammy-updates InRelease [128 kB]
Get:5 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]
Get:6 http://mirrors.digitalocean.com/ubuntu jammy-backports InRelease [127 kB]
Get:7 https://repos.insights.digitalocean.com/apt/do-agent main/main amd64 Packages [7482 B]
Get:8 http://mirrors.digitalocean.com/ubuntu jammy-updates/main amd64 Packages [3025 kB]
Get:9 http://mirrors.digitalocean.com/ubuntu jammy-updates/main Translation-en [469 kB]
Get:10 http://mirrors.digitalocean.com/ubuntu jammy-updates/main amd64 c-n-f Metadata [19.0 kB]
Get:11 http://mirrors.digitalocean.com/ubuntu jammy-updates/restricted amd64 Packages [4750 kB]
Get:12 http://mirrors.digitalocean.com/ubuntu jammy-updates/restricted Translation-en [880 kB]
Get:13 http://mirrors.digitalocean.com/ubuntu jammy-updates/universe amd64 Packages [1242 kB]
Get:14 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [2767 kB]
Get:15 http://security.ubuntu.com/ubuntu jammy-security/main Translation-en [402 kB]
Get:16 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [4601 kB]
Get:17 http://security.ubuntu.com/ubuntu jammy-security/restricted Translation-en [852 kB]
Get:18 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1007 kB]
Fetched 20.4 MB in 11s (1839 kB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
Calculating upgrade...
The following packages were automatically installed and are no longer required:
  libgl1-amber-dri libglapi-amber libllvm19 mailcap
Use 'sudo apt autoremove' to remove them.
The following packages have been kept back:
  obs-studio
The following packages will be upgraded:
  firmware-sof-signed gdm3 gir1.2-gdm-1.0 gir1.2-javascriptcoregtk-4.1
  gir1.2-javascriptcoregtk-6.0 gir1.2-webkit-6.0 gir1.2-webkit2-4.1
  google-chrome-canary google-chrome-stable libgdm1 libgtop-2.0-11
  libgtop2-common libjavascriptcoregtk-4.1-0 libjavascriptcoregtk-6.0-1
  libnss-systemd libpam-systemd libsystemd-shared libsystemd0 libudev-dev
  libudev1 libwebkit2gtk-4.1-0 libwebkitgtk-6.0-4 libwireplumber-0.4-0
  linux-firmware redis-server redis-tools snapd systemd systemd-dev
  systemd-hwe-hwdb systemd-oomd systemd-resolved systemd-sysv
  systemd-timesyncd tcpdump udev wireplumber
37 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
Need to get 900 MB of archives.
After this operation, 4,664 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libnss-systemd amd64 255.4-1ubuntu8.11 [159 kB]
Get:2 https://dl.google.com/linux/chrome/deb stable/main amd64 google-chrome-canary amd64 143.0.7474.0-1 [118 MB]
Get:3 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 systemd-dev all 255.4-1ubuntu8.11 [106 kB]
Get:4 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libudev-dev amd64 255.4-1ubuntu8.11 [22.0 kB]
Get:5 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 systemd-timesyncd amd64 255.4-1ubuntu8.11 [35.3 kB]
Get:6 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 systemd-resolved amd64 255.4-1ubuntu8.11 [296 kB]
Get:7 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 systemd-oomd amd64 255.4-1ubuntu8.11 [39.2 kB]
Get:8 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libsystemd-shared amd64 255.4-1ubuntu8.11 [2,076 kB]
Get:9 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libsystemd0 amd64 255.4-1ubuntu8.11 [434 kB]
Get:10 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 systemd-sysv amd64 255.4-1ubuntu8.11 [11.9 kB]
Get:11 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libpam-systemd amd64 255.4-1ubuntu8.11 [235 kB]
Get:12 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 systemd amd64 255.4-1ubuntu8.11 [3,475 kB]
Get:13 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 udev amd64 255.4-1ubuntu8.11 [1,874 kB]
Get:14 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libudev1 amd64 255.4-1ubuntu8.11 [176 kB]
Get:15 http://archive.ubuntu.com/ubuntu noble-updates/universe amd64 redis-server amd64 5:7.0.15-1ubuntu0.24.04.2 [51.7 kB]
Get:16 http://archive.ubuntu.com/ubuntu noble-updates/universe amd64 redis-tools amd64 5:7.0.15-1ubuntu0.24.04.2 [1,166 kB]
Get:17 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 systemd-hwe-hwdb all 255.1.6 [3,684 B]
Get:18 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 tcpdump amd64 4.99.4-3ubuntu4.24.04.1 [479 kB]
Get:19 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 firmware-sof-signed all 2023.12.1-1ubuntu1.10 [7,382 kB]
Get:20 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 gdm3 amd64 46.2-1ubuntu1~24.04.3 [335 kB]
Get:21 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libgdm1 amd64 46.2-1ubuntu1~24.04.3 [77.2 kB]
Get:22 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 gir1.2-gdm-1.0 amd64 46.2-1ubuntu1~24.04.3 [11.3 kB]
Get:23 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 gir1.2-webkit2-4.1 amd64 2.48.7-0ubuntu0.24.04.2 [105 kB]
Get:24 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 gir1.2-javascriptcoregtk-4.1 amd64 2.48.7-0ubuntu0.24.04.2 [38.4 kB]
Get:25 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libwebkit2gtk-4.1-0 amd64 2.48.7-0ubuntu0.24.04.2 [26.8 MB]
Get:26 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libjavascriptcoregtk-4.1-0 amd64 2.48.7-0ubuntu0.24.04.2 [8,954 kB]
Get:27 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 gir1.2-webkit-6.0 amd64 2.48.7-0ubuntu0.24.04.2 [68.1 kB]
Get:28 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 gir1.2-javascriptcoregtk-6.0 amd64 2.48.7-0ubuntu0.24.04.2 [38.2 kB]
Get:29 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libwebkitgtk-6.0-4 amd64 2.48.7-0ubuntu0.24.04.2 [26.5 MB]
Get:30 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libjavascriptcoregtk-6.0-1 amd64 2.48.7-0ubuntu0.24.04.2 [8,953 kB]
Get:31 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libgtop2-common all 2.41.3-1ubuntu0.24.04.1 [3,662 B]
Get:32 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libgtop-2.0-11 amd64 2.41.3-1ubuntu0.24.04.1 [40.1 kB]
Get:33 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 wireplumber amd64 0.4.17-1ubuntu4.1 [80.0 kB]
Get:34 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libwireplumber-0.4-0 amd64 0.4.17-1ubuntu4.1 [247 kB]
Get:35 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 linux-firmware amd64 20240318.git3b128b60-0ubuntu2.19 [538 MB]
Get:36 https://dl.google.com/linux/chrome/deb stable/main amd64 google-chrome-stable amd64 141.0.7390.107-1 [121 MB]
Ign:36 https://dl.google.com/linux/chrome/deb stable/main amd64 google-chrome-stable amd64 141.0.7390.107-1
Ign:35 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 linux-firmware amd64 20240318.git3b128b60-0ubuntu2.19
Ign:36 https://dl.google.com/linux/chrome/deb stable/main amd64 google-chrome-stable amd64 141.0.7390.107-1
Ign:37 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 snapd amd64 2.71+ubuntu24.04
Ign:35 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 linux-firmware amd64 20240318.git3b128b60-0ubuntu2.19
Err:37 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 snapd amd64 2.71+ubuntu24.04
  Connection failed [IP: 91.189.91.82 80]
Ign:36 https://dl.google.com/linux/chrome/deb stable/main amd64 google-chrome-stable amd64 141.0.7390.107-1
Err:35 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 linux-firmware amd64 20240318.git3b128b60-0ubuntu2.19
  Connection timed out [IP: 185.125.190.82 80]
Err:36 https://dl.google.com/linux/chrome/deb stable/main amd64 google-chrome-stable amd64 141.0.7390.107-1
  Connection timed out [IP: 142.251.30.136 443]
Fetched 208 MB in 4min 49s (718 kB/s)
E: Failed to fetch https://dl.google.com/linux/chrome/deb/pool/main/g/google-chrome-stable/google-chrome-stable_141.0.7390.107-1_amd64.deb  Connection timed out [IP: 142.251.30.136 443]
E: Failed to fetch http://archive.ubuntu.com/ubuntu/pool/main/l/linux-firmware/linux-firmware_20240318.git3b128b60-0ubuntu2.19_amd64.deb  Connection timed out [IP: 185.125.190.82 80]
E: Failed to fetch http://archive.ubuntu.com/ubuntu/pool/main/s/snapd/snapd_2.71%2bubuntu24.04_amd64.deb  Connection failed [IP: 91.189.91.82 80]
E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
[0;31m[2025-10-21 23:10:50] ERROR:[0m Failed to update system packages
[0;34m[2025-10-21 23:14:22][0m Starting deployment script
[0;34m[2025-10-21 23:14:22][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 23:15:22] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 23:15:30] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 23:15:32][0m Using branch: master

[0;34m[2025-10-21 23:15:32][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 23:15:49] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 23:15:58] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 23:16:01] SUCCESS:[0m Port validated

[0;34m[2025-10-21 23:16:01][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 23:16:01][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 23:16:01][0m Branch: master
[0;34m[2025-10-21 23:16:01][0m SSH Username: root
[0;34m[2025-10-21 23:16:01][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 23:16:01][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 23:16:01][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 23:16:04] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 23:16:04][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 23:16:04][0m Repository name: pick-me-backend
[0;34m[2025-10-21 23:16:04][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:16:04][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 23:16:04][0m No local changes detected
[0;34m[2025-10-21 23:16:04][0m Fetching latest changes from remote...
[0;34m[2025-10-21 23:16:06][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 23:16:09] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 23:16:09][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 23:16:09][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 23:16:09][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:16:09][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:16:09][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 23:16:09] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:16:09][0m Checking for Docker configuration files...
[0;34m[2025-10-21 23:16:09][0m Found: Dockerfile
[0;32m[2025-10-21 23:16:09] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 23:16:09][0m Validating Dockerfile...
[0;34m[2025-10-21 23:16:09][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 23:16:09] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 23:16:09][0m Project structure overview:
[0;34m[2025-10-21 23:16:09][0m   - ./Dockerfile
[0;34m[2025-10-21 23:16:09][0m   - ./.env
[0;32m[2025-10-21 23:16:09] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 23:16:09][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:16:09][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-21 23:16:09][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-21 23:16:10] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-21 23:16:10][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-21 23:16:17] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-21 23:16:17] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-21 23:16:17][0m SSH connection established and verified
[0;34m[2025-10-21 23:16:17][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-21 23:16:17][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-21 23:16:17][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-21 23:16:17][0m Updating system packages on remote server...
Hit:1 https://repos-droplet.digitalocean.com/apt/droplet-agent main InRelease
Hit:2 http://security.ubuntu.com/ubuntu jammy-security InRelease
Hit:3 http://mirrors.digitalocean.com/ubuntu jammy InRelease
Hit:4 https://repos.insights.digitalocean.com/apt/do-agent main InRelease
Hit:5 http://mirrors.digitalocean.com/ubuntu jammy-updates InRelease
Hit:6 http://mirrors.digitalocean.com/ubuntu jammy-backports InRelease
Reading package lists...
[0;32m[2025-10-21 23:16:59] SUCCESS:[0m System packages updated successfully
[0;34m[2025-10-21 23:16:59][0m Checking Docker installation...
[0;34m[2025-10-21 23:17:05][0m Docker not found. Installing Docker...
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-113-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Oct 21 22:16:15 UTC 2025

  System load:  0.0               Processes:             92
  Usage of /:   18.5% of 9.51GB   Users logged in:       0
  Memory usage: 43%               IPv4 address for eth0: 161.35.230.138
  Swap usage:   0%                IPv4 address for eth0: 10.48.0.5

Expanded Security Maintenance for Applications is not enabled.

168 updates can be applied immediately.
108 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Tue Oct 21 14:50:08 2025 from 129.0.226.152
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# server^C[?2004l[?2004h[?2004l
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# exit
[?2004llogout
Connection to 161.35.230.138 closed.
# Executing docker install script, commit: 86415efcfe5f8d966625843da41a0f798238cce5
Warning: the "docker" command appears to already exist on this system.

If you already have Docker installed, this script can cause trouble, which is
why we're displaying this warning and provide the opportunity to cancel the
installation.

If you installed the current Docker package using this script and are using it
again to update Docker, you can ignore this message, but be aware that the
script resets any custom changes in the deb and rpm repo configuration
files to match the parameters passed to the script.

You may press Ctrl+C now to abort this script.
+ sleep 20
[0;34m[2025-10-21 23:26:39][0m Starting deployment script
[0;34m[2025-10-21 23:26:39][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 23:26:49] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 23:26:59] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 23:27:02][0m Using branch: master

[0;34m[2025-10-21 23:27:02][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 23:27:14] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 23:27:27] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 23:27:30] SUCCESS:[0m Port validated

[0;34m[2025-10-21 23:27:30][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 23:27:30][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 23:27:30][0m Branch: master
[0;34m[2025-10-21 23:27:30][0m SSH Username: root
[0;34m[2025-10-21 23:27:30][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 23:27:30][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 23:27:30][0m App Port: 3040
------------------------------------------

Are these parameters correct? (y/n): [0;32m[2025-10-21 23:27:32] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 23:27:32][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 23:27:32][0m Repository name: pick-me-backend
[0;34m[2025-10-21 23:27:32][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:27:32][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 23:27:32][0m No local changes detected
[0;34m[2025-10-21 23:27:32][0m Fetching latest changes from remote...
[0;34m[2025-10-21 23:27:35][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 23:27:37] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 23:27:37][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 23:27:37][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 23:27:37][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:27:37][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:27:37][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 23:27:37] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:27:37][0m Checking for Docker configuration files...
[0;34m[2025-10-21 23:27:37][0m Found: Dockerfile
[0;32m[2025-10-21 23:27:37] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 23:27:37][0m Validating Dockerfile...
[0;34m[2025-10-21 23:27:37][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 23:27:37] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 23:27:37][0m Project structure overview:
[0;34m[2025-10-21 23:27:37][0m   - ./Dockerfile
[0;34m[2025-10-21 23:27:37][0m   - ./.env
[0;32m[2025-10-21 23:27:37] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 23:27:37][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:27:37][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-21 23:27:37][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-21 23:27:38] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-21 23:27:38][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-21 23:27:44] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-21 23:27:44] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-21 23:27:44][0m SSH connection established and verified
[0;34m[2025-10-21 23:27:44][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-21 23:27:44][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-21 23:27:44][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-21 23:27:44][0m Updating package lists on remote server...
[0;32m[2025-10-21 23:27:53] SUCCESS:[0m Package lists updated successfully
[0;34m[2025-10-21 23:27:53][0m Checking Docker installation...
[0;34m[2025-10-21 23:27:58][0m Docker not found. Installing Docker...
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-113-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Oct 21 22:27:42 UTC 2025

  System load:  0.52              Processes:             105
  Usage of /:   20.1% of 9.51GB   Users logged in:       1
  Memory usage: 55%               IPv4 address for eth0: 161.35.230.138
  Swap usage:   0%                IPv4 address for eth0: 10.48.0.5

Expanded Security Maintenance for Applications is not enabled.

168 updates can be applied immediately.
108 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Tue Oct 21 22:18:32 2025 from 162.243.190.66
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# exit
[?2004llogout
Connection to 161.35.230.138 closed.
# Executing docker install script, commit: 86415efcfe5f8d966625843da41a0f798238cce5
Warning: the "docker" command appears to already exist on this system.

If you already have Docker installed, this script can cause trouble, which is
why we're displaying this warning and provide the opportunity to cancel the
installation.

If you installed the current Docker package using this script and are using it
again to update Docker, you can ignore this message, but be aware that the
script resets any custom changes in the deb and rpm repo configuration
files to match the parameters passed to the script.

You may press Ctrl+C now to abort this script.
+ sleep 20
[0;34m[2025-10-21 23:33:29][0m Starting deployment script
[0;34m[2025-10-21 23:33:29][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 23:33:41] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 23:33:50] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 23:33:54][0m Using branch: master

[0;34m[2025-10-21 23:33:54][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 23:34:11] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 23:34:22] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 23:34:26] SUCCESS:[0m Port validated

[0;34m[2025-10-21 23:34:26][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 23:34:26][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 23:34:26][0m Branch: master
[0;34m[2025-10-21 23:34:26][0m SSH Username: root
[0;34m[2025-10-21 23:34:26][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 23:34:26][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 23:34:26][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-21 23:34:26] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 23:34:26][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 23:34:26][0m Repository name: pick-me-backend
[0;34m[2025-10-21 23:34:26][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:34:26][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 23:34:26][0m No local changes detected
[0;34m[2025-10-21 23:34:26][0m Fetching latest changes from remote...
[0;34m[2025-10-21 23:34:44][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 23:35:01] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 23:35:01][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 23:35:01][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 23:35:01][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:35:01][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:35:01][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 23:35:01] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:35:01][0m Checking for Docker configuration files...
[0;34m[2025-10-21 23:35:01][0m Found: Dockerfile
[0;32m[2025-10-21 23:35:01] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 23:35:01][0m Validating Dockerfile...
[0;34m[2025-10-21 23:35:01][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 23:35:01] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 23:35:01][0m Project structure overview:
[0;34m[2025-10-21 23:35:01][0m   - ./Dockerfile
[0;34m[2025-10-21 23:35:01][0m   - ./.env
[0;32m[2025-10-21 23:35:01] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 23:35:01][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:35:01][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-21 23:35:01][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-21 23:35:02] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-21 23:35:02][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-21 23:35:08] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-21 23:35:08] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-21 23:35:08][0m SSH connection established and verified
[0;34m[2025-10-21 23:35:08][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-21 23:35:08][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-21 23:35:08][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-21 23:35:08][0m Updating package lists on remote server...
[0;32m[2025-10-21 23:35:15] SUCCESS:[0m Package lists updated successfully
[0;34m[2025-10-21 23:35:15][0m Checking Docker installation...
[0;34m[2025-10-21 23:35:21][0m Docker not found. Installing Docker...
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-113-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Oct 21 22:35:06 UTC 2025

  System load:  0.0               Processes:             94
  Usage of /:   21.5% of 9.51GB   Users logged in:       1
  Memory usage: 44%               IPv4 address for eth0: 161.35.230.138
  Swap usage:   0%                IPv4 address for eth0: 10.48.0.5

Expanded Security Maintenance for Applications is not enabled.

168 updates can be applied immediately.
108 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Tue Oct 21 22:28:02 2025 from 129.0.226.19
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# exit
[?2004llogout
Connection to 161.35.230.138 closed.
[0;34m[2025-10-21 23:39:45][0m Starting deployment script
[0;34m[2025-10-21 23:39:45][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 23:40:09] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 23:40:16] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 23:40:20][0m Using branch: master

[0;34m[2025-10-21 23:40:20][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 23:40:34] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 23:40:45] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 23:40:49] SUCCESS:[0m Port validated

[0;34m[2025-10-21 23:40:49][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 23:40:49][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 23:40:49][0m Branch: master
[0;34m[2025-10-21 23:40:49][0m SSH Username: root
[0;34m[2025-10-21 23:40:49][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 23:40:49][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 23:40:49][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-21 23:40:49] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 23:40:49][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 23:40:49][0m Repository name: pick-me-backend
[0;34m[2025-10-21 23:40:49][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:40:49][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 23:40:49][0m No local changes detected
[0;34m[2025-10-21 23:40:49][0m Fetching latest changes from remote...
[0;34m[2025-10-21 23:40:51][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 23:40:53] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 23:40:53][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 23:40:53][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 23:40:53][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:40:53][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:40:53][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 23:40:53] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:40:53][0m Checking for Docker configuration files...
[0;34m[2025-10-21 23:40:53][0m Found: Dockerfile
[0;32m[2025-10-21 23:40:53] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 23:40:53][0m Validating Dockerfile...
[0;34m[2025-10-21 23:40:53][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 23:40:53] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 23:40:53][0m Project structure overview:
[0;34m[2025-10-21 23:40:53][0m   - ./Dockerfile
[0;34m[2025-10-21 23:40:53][0m   - ./.env
[0;32m[2025-10-21 23:40:53] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 23:40:53][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:40:53][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-21 23:40:53][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-21 23:40:54] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-21 23:40:54][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-21 23:40:59] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-21 23:40:59] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-21 23:40:59][0m SSH connection established and verified
[0;34m[2025-10-21 23:40:59][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-21 23:40:59][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-21 23:40:59][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-21 23:40:59][0m Updating package lists on remote server...
[0;32m[2025-10-21 23:41:07] SUCCESS:[0m Package lists updated successfully
[0;34m[2025-10-21 23:41:07][0m Checking Docker installation...
[0;34m[2025-10-21 23:41:12][0m Docker not found. Installing Docker...
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-113-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Oct 21 22:40:58 UTC 2025

  System load:  0.0               Processes:             93
  Usage of /:   21.5% of 9.51GB   Users logged in:       1
  Memory usage: 44%               IPv4 address for eth0: 161.35.230.138
  Swap usage:   0%                IPv4 address for eth0: 10.48.0.5

Expanded Security Maintenance for Applications is not enabled.

168 updates can be applied immediately.
108 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Tue Oct 21 22:41:12 2025 from 129.0.226.19
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# ex[K[Kquit
[?2004lCommand 'quit' not found, but can be installed with:
snap install quit
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# exit
[?2004llogout
# Executing docker install script, commit: 86415efcfe5f8d966625843da41a0f798238cce5
Warning: the "docker" command appears to already exist on this system.

If you already have Docker installed, this script can cause trouble, which is
why we're displaying this warning and provide the opportunity to cancel the
installation.

If you installed the current Docker package using this script and are using it
again to update Docker, you can ignore this message, but be aware that the
script resets any custom changes in the deb and rpm repo configuration
files to match the parameters passed to the script.

You may press Ctrl+C now to abort this script.
+ sleep 20
+ sh -c apt-get -qq update >/dev/null
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://deb.opera.com/opera-stable stable InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Failed to fetch https://deb.opera.com/opera-stable/dists/stable/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Some index files failed to download. They have been ignored, or old ones used instead.
+ sh -c DEBIAN_FRONTEND=noninteractive apt-get -y -qq install ca-certificates curl >/dev/null
+ sh -c install -m 0755 -d /etc/apt/keyrings
+ sh -c curl -fsSL "https://download.docker.com/linux/ubuntu/gpg" -o /etc/apt/keyrings/docker.asc
+ sh -c chmod a+r /etc/apt/keyrings/docker.asc
+ sh -c echo "deb [arch=amd64 signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu noble stable" > /etc/apt/sources.list.d/docker.list
+ sh -c apt-get -qq update >/dev/null
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://deb.opera.com/opera-stable stable InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Failed to fetch https://deb.opera.com/opera-stable/dists/stable/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Some index files failed to download. They have been ignored, or old ones used instead.
+ sh -c DEBIAN_FRONTEND=noninteractive apt-get -y -qq install docker-ce docker-ce-cli containerd.io docker-compose-plugin docker-ce-rootless-extras docker-buildx-plugin docker-model-plugin >/dev/null
[0;34m[2025-10-21 23:45:28][0m Starting deployment script
[0;34m[2025-10-21 23:45:28][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 23:47:57] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 23:48:06] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 23:48:13][0m Using branch: master

[0;34m[2025-10-21 23:48:13][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 23:48:32] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 23:48:41] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 23:48:46] SUCCESS:[0m Port validated

[0;34m[2025-10-21 23:48:46][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 23:48:46][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 23:48:46][0m Branch: master
[0;34m[2025-10-21 23:48:46][0m SSH Username: root
[0;34m[2025-10-21 23:48:46][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 23:48:46][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 23:48:46][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-21 23:48:46] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 23:48:46][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 23:48:46][0m Repository name: pick-me-backend
[0;34m[2025-10-21 23:48:46][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:48:46][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 23:48:46][0m No local changes detected
[0;34m[2025-10-21 23:48:46][0m Fetching latest changes from remote...
[0;34m[2025-10-21 23:48:49][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 23:48:51] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 23:48:51][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 23:48:51][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 23:48:51][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:48:51][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:48:51][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 23:48:51] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:48:51][0m Checking for Docker configuration files...
[0;34m[2025-10-21 23:48:51][0m Found: Dockerfile
[0;32m[2025-10-21 23:48:51] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 23:48:51][0m Validating Dockerfile...
[0;34m[2025-10-21 23:48:51][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 23:48:51] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 23:48:51][0m Project structure overview:
[0;34m[2025-10-21 23:48:51][0m   - ./Dockerfile
[0;34m[2025-10-21 23:48:51][0m   - ./.env
[0;32m[2025-10-21 23:48:51] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 23:48:51][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:48:51][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-21 23:48:51][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-21 23:48:53] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-21 23:48:53][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-21 23:48:58] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-21 23:48:58] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-21 23:48:58][0m SSH connection established and verified
[0;34m[2025-10-21 23:48:58][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-21 23:48:58][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-21 23:48:58][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-21 23:48:58][0m Updating system packages on remote server...
Hit:1 http://mirrors.digitalocean.com/ubuntu jammy InRelease
Hit:2 https://repos.insights.digitalocean.com/apt/do-agent main InRelease
Hit:3 http://security.ubuntu.com/ubuntu jammy-security InRelease
Hit:4 https://repos-droplet.digitalocean.com/apt/droplet-agent main InRelease
Hit:5 http://mirrors.digitalocean.com/ubuntu jammy-updates InRelease
Hit:6 http://mirrors.digitalocean.com/ubuntu jammy-backports InRelease
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
Calculating upgrade...
The following packages were automatically installed and are no longer required:
  libgl1-amber-dri libglapi-amber libllvm19 mailcap
Use 'sudo apt autoremove' to remove them.
The following packages have been kept back:
  linux-generic linux-headers-generic linux-image-generic obs-studio
The following packages will be upgraded:
  bluez bluez-cups bluez-obexd distro-info-data firmware-sof-signed gdm3
  gir1.2-gdm-1.0 gir1.2-javascriptcoregtk-4.1 gir1.2-javascriptcoregtk-6.0
  gir1.2-webkit-6.0 gir1.2-webkit2-4.1 google-chrome-canary
  google-chrome-stable libbluetooth3 libgdm1 libgtop-2.0-11 libgtop2-common
  libjavascriptcoregtk-4.1-0 libjavascriptcoregtk-6.0-1 libldb2 libnss-systemd
  libpam-systemd libsmbclient0 libsystemd-shared libsystemd0 libudev-dev
  libudev1 libwbclient0 libwebkit2gtk-4.1-0 libwebkitgtk-6.0-4
  libwireplumber-0.4-0 linux-firmware linux-libc-dev linux-tools-common
  redis-server redis-tools samba-libs snapd systemd systemd-dev
  systemd-hwe-hwdb systemd-oomd systemd-resolved systemd-sysv
  systemd-timesyncd tcpdump udev wireplumber
48 upgraded, 0 newly installed, 0 to remove and 4 not upgraded.
Need to get 820 MB/911 MB of archives.
After this operation, 2,459 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 bluez amd64 5.72-0ubuntu5.5 [1,361 kB]
[0;34m[2025-10-21 23:49:44][0m Starting deployment script
[0;34m[2025-10-21 23:49:44][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-21 23:49:51] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-21 23:49:57] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-21 23:50:00][0m Using branch: master

[0;34m[2025-10-21 23:50:00][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-21 23:50:09] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-21 23:50:16] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-21 23:50:20] SUCCESS:[0m Port validated

[0;34m[2025-10-21 23:50:20][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-21 23:50:20][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-21 23:50:20][0m Branch: master
[0;34m[2025-10-21 23:50:20][0m SSH Username: root
[0;34m[2025-10-21 23:50:20][0m Server IP: 161.35.230.138
[0;34m[2025-10-21 23:50:20][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-21 23:50:20][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-21 23:50:20] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-21 23:50:20][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-21 23:50:20][0m Repository name: pick-me-backend
[0;34m[2025-10-21 23:50:20][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:50:20][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-21 23:50:20][0m No local changes detected
[0;34m[2025-10-21 23:50:20][0m Fetching latest changes from remote...
[0;34m[2025-10-21 23:50:22][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-21 23:50:24] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-21 23:50:24][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-21 23:50:24][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-21 23:50:24][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:50:24][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:50:24][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-21 23:50:24] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:50:24][0m Checking for Docker configuration files...
[0;34m[2025-10-21 23:50:24][0m Found: Dockerfile
[0;32m[2025-10-21 23:50:24] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-21 23:50:24][0m Validating Dockerfile...
[0;34m[2025-10-21 23:50:24][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-21 23:50:24] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-21 23:50:24][0m Project structure overview:
[0;34m[2025-10-21 23:50:24][0m   - ./Dockerfile
[0;34m[2025-10-21 23:50:24][0m   - ./.env
[0;32m[2025-10-21 23:50:24] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-21 23:50:24][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-21 23:50:24][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-21 23:50:24][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-21 23:50:25] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-21 23:50:25][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-21 23:50:31] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-21 23:50:31] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-21 23:50:31][0m SSH connection established and verified
[0;34m[2025-10-21 23:50:31][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-21 23:50:31][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-21 23:50:31][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-21 23:50:31][0m Updating system packages on remote server...
[0;32m[2025-10-21 23:50:39] SUCCESS:[0m System packages updated successfully
[0;34m[2025-10-21 23:50:39][0m Checking Docker installation...
[0;34m[2025-10-21 23:50:44][0m Docker not found. Installing Docker...
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-113-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Oct 21 22:50:29 UTC 2025

  System load:  0.02              Processes:             96
  Usage of /:   21.5% of 9.51GB   Users logged in:       1
  Memory usage: 44%               IPv4 address for eth0: 161.35.230.138
  Swap usage:   0%                IPv4 address for eth0: 10.48.0.5

Expanded Security Maintenance for Applications is not enabled.

168 updates can be applied immediately.
108 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Tue Oct 21 22:41:15 2025 from 129.0.226.19
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# exit
[?2004llogout
Connection to 161.35.230.138 closed.
# Executing docker install script, commit: 86415efcfe5f8d966625843da41a0f798238cce5
Warning: the "docker" command appears to already exist on this system.

If you already have Docker installed, this script can cause trouble, which is
why we're displaying this warning and provide the opportunity to cancel the
installation.

If you installed the current Docker package using this script and are using it
again to update Docker, you can ignore this message, but be aware that the
script resets any custom changes in the deb and rpm repo configuration
files to match the parameters passed to the script.

You may press Ctrl+C now to abort this script.
+ sleep 20
+ sh -c apt-get -qq update >/dev/null
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://deb.opera.com/opera-stable stable InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Failed to fetch https://deb.opera.com/opera-stable/dists/stable/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Some index files failed to download. They have been ignored, or old ones used instead.
+ sh -c DEBIAN_FRONTEND=noninteractive apt-get -y -qq install ca-certificates curl >/dev/null
+ sh -c install -m 0755 -d /etc/apt/keyrings
+ sh -c curl -fsSL "https://download.docker.com/linux/ubuntu/gpg" -o /etc/apt/keyrings/docker.asc
+ sh -c chmod a+r /etc/apt/keyrings/docker.asc
+ sh -c echo "deb [arch=amd64 signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu noble stable" > /etc/apt/sources.list.d/docker.list
+ sh -c apt-get -qq update >/dev/null
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://deb.opera.com/opera-stable stable InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Failed to fetch https://deb.opera.com/opera-stable/dists/stable/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Some index files failed to download. They have been ignored, or old ones used instead.
+ sh -c DEBIAN_FRONTEND=noninteractive apt-get -y -qq install docker-ce docker-ce-cli containerd.io docker-compose-plugin docker-ce-rootless-extras docker-buildx-plugin docker-model-plugin >/dev/null
+ sh -c docker version
Client: Docker Engine - Community
 Version:           28.5.1
 API version:       1.51
 Go version:        go1.24.8
 Git commit:        e180ab8
 Built:             Wed Oct  8 12:17:26 2025
 OS/Arch:           linux/amd64
 Context:           default

Server: Docker Engine - Community
 Engine:
  Version:          28.5.1
  API version:      1.51 (minimum version 1.24)
  Go version:       go1.24.8
  Git commit:       f8215cc
  Built:            Wed Oct  8 12:17:26 2025
  OS/Arch:          linux/amd64
  Experimental:     false
 containerd:
  Version:          v1.7.28
  GitCommit:        b98a3aace656320842a23f4a392a33f46af97866
 runc:
  Version:          1.3.0
  GitCommit:        v1.3.0-0-g4ca628d1
 docker-init:
  Version:          0.19.0
  GitCommit:        de40ad0

================================================================================

To run Docker as a non-privileged user, consider setting up the
Docker daemon in rootless mode for your user:

    dockerd-rootless-setuptool.sh install

Visit https://docs.docker.com/go/rootless/ to learn about rootless mode.


To run the Docker daemon as a fully privileged service, but granting non-root
users access, refer to https://docs.docker.com/go/daemon-access/

WARNING: Access to the remote API on a privileged Docker daemon is equivalent
         to root access on the host. Refer to the 'Docker daemon attack surface'
         documentation for details: https://docs.docker.com/go/attack-surface/

================================================================================

[0;32m[2025-10-21 23:51:28] SUCCESS:[0m Docker installed successfully
[0;34m[2025-10-21 23:51:28][0m Checking Docker Compose installation...
[0;34m[2025-10-21 23:51:38][0m Docker Compose not found. Installing Docker Compose...
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-113-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Oct 21 22:51:34 UTC 2025

  System load:  0.0               Processes:             96
  Usage of /:   21.5% of 9.51GB   Users logged in:       1
  Memory usage: 44%               IPv4 address for eth0: 161.35.230.138
  Swap usage:   0%                IPv4 address for eth0: 10.48.0.5

Expanded Security Maintenance for Applications is not enabled.

168 updates can be applied immediately.
108 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Tue Oct 21 22:50:49 2025 from 129.0.226.19
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# exit
[?2004llogout
Connection to 161.35.230.138 closed.
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0
  0     0    0     0    0     0      0      0 --:--:--  0:00:02 --:--:--     0
  0     0    0     0    0     0      0      0 --:--:--  0:00:02 --:--:--     0  0 73.0M    0  114k    0     0  27056      0  0:47:11  0:00:04  0:47:07 84709  0 73.0M    0  239k    0     0  49531      0  0:25:46  0:00:04  0:25:42  119k  0 73.0M    0  703k    0     0   118k      0  0:10:32  0:00:05  0:10:27  234k  1 73.0M    1 1248k    0     0   178k      0  0:06:58  0:00:06  0:06:52  310k  2 73.0M    2 2111k    0     0   265k      0  0:04:41  0:00:07  0:04:34  422k  4 73.0M    4 3231k    0     0   362k      0  0:03:26  0:00:08  0:03:18  681k  5 73.0M    5 4480k    0     0   450k      0  0:02:45  0:00:09  0:02:36  851k  9 73.0M    9 6943k    0     0   634k      0  0:01:57  0:00:10  0:01:47 1251k 12 73.0M   12 9247k    0     0   776k      0  0:01:36  0:00:11  0:01:25 1622k 15 73.0M   15 11.1M    0     0   881k      0  0:01:24  0:00:12  0:01:12 1869k 19 73.0M   19 14.0M    0     0  1037k      0  0:01:12  0:00:13  0:00:59 2240k 22 73.0M   22 16.6M    0     0  1142k      0  0:01:05  0:00:14  0:00:51 2520k 26 73.0M   26 19.4M    0     0  1246k      0  0:01:00  0:00:15  0:00:45 2580k 30 73.0M   30 22.1M    0     0  1339k      0  0:00:55  0:00:16  0:00:39 2680k 34 73.0M   34 25.5M    0     0  1455k      0  0:00:51  0:00:17  0:00:34 2927k 38 73.0M   38 28.1M    0     0  1525k      0  0:00:49  0:00:18  0:00:31 2881k[0;34m[2025-10-22 00:01:08][0m Starting deployment script
[0;34m[2025-10-22 00:01:08][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-22 00:01:17] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-22 00:01:25] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-22 00:01:29][0m Using branch: master

[0;34m[2025-10-22 00:01:29][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-22 00:01:42] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-22 00:01:50] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-22 00:01:53] SUCCESS:[0m Port validated

[0;34m[2025-10-22 00:01:53][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-22 00:01:53][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-22 00:01:53][0m Branch: master
[0;34m[2025-10-22 00:01:53][0m SSH Username: root
[0;34m[2025-10-22 00:01:53][0m Server IP: 161.35.230.138
[0;34m[2025-10-22 00:01:53][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-22 00:01:53][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-22 00:01:53] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-22 00:01:53][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-22 00:01:53][0m Repository name: pick-me-backend
[0;34m[2025-10-22 00:01:53][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:01:53][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-22 00:01:53][0m No local changes detected
[0;34m[2025-10-22 00:01:53][0m Fetching latest changes from remote...
[0;34m[2025-10-22 00:01:57][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-22 00:02:00] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-22 00:02:00][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-22 00:02:00][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-22 00:02:00][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:02:00][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:02:00][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-22 00:02:00] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:02:00][0m Checking for Docker configuration files...
[0;34m[2025-10-22 00:02:00][0m Found: Dockerfile
[0;32m[2025-10-22 00:02:00] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-22 00:02:00][0m Validating Dockerfile...
[0;34m[2025-10-22 00:02:00][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-22 00:02:00] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-22 00:02:00][0m Project structure overview:
[0;34m[2025-10-22 00:02:00][0m   - ./Dockerfile
[0;34m[2025-10-22 00:02:00][0m   - ./.env
[0;32m[2025-10-22 00:02:00] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-22 00:02:00][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:02:00][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-22 00:02:00][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-22 00:02:01] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-22 00:02:01][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-22 00:02:06] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-22 00:02:06] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-22 00:02:06][0m SSH connection established and verified
[0;34m[2025-10-22 00:02:06][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-22 00:02:06][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-22 00:02:06][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-22 00:02:06][0m Updating package lists on remote server...
[0;32m[2025-10-22 00:02:18] SUCCESS:[0m Package lists updated successfully
[0;34m[2025-10-22 00:02:18][0m Checking Docker installation...
[0;34m[2025-10-22 00:02:24][0m Docker not found. Installing Docker...
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-113-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Oct 21 23:02:04 UTC 2025

  System load:  0.0               Processes:             94
  Usage of /:   21.5% of 9.51GB   Users logged in:       1
  Memory usage: 44%               IPv4 address for eth0: 161.35.230.138
  Swap usage:   0%                IPv4 address for eth0: 10.48.0.5

Expanded Security Maintenance for Applications is not enabled.

168 updates can be applied immediately.
108 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Tue Oct 21 23:02:23 2025 from 129.0.226.19
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# exit
[?2004llogout
# Executing docker install script, commit: 86415efcfe5f8d966625843da41a0f798238cce5
Warning: the "docker" command appears to already exist on this system.

If you already have Docker installed, this script can cause trouble, which is
why we're displaying this warning and provide the opportunity to cancel the
installation.

If you installed the current Docker package using this script and are using it
again to update Docker, you can ignore this message, but be aware that the
script resets any custom changes in the deb and rpm repo configuration
files to match the parameters passed to the script.

You may press Ctrl+C now to abort this script.
+ sleep 20
+ sh -c apt-get -qq update >/dev/null
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://deb.opera.com/opera-stable stable InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Failed to fetch https://deb.opera.com/opera-stable/dists/stable/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Some index files failed to download. They have been ignored, or old ones used instead.
+ sh -c DEBIAN_FRONTEND=noninteractive apt-get -y -qq install ca-certificates curl >/dev/null
+ sh -c install -m 0755 -d /etc/apt/keyrings
+ sh -c curl -fsSL "https://download.docker.com/linux/ubuntu/gpg" -o /etc/apt/keyrings/docker.asc
+ sh -c chmod a+r /etc/apt/keyrings/docker.asc
+ sh -c echo "deb [arch=amd64 signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu noble stable" > /etc/apt/sources.list.d/docker.list
+ sh -c apt-get -qq update >/dev/null
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://deb.opera.com/opera-stable stable InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Failed to fetch https://deb.opera.com/opera-stable/dists/stable/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 11EE8C00B693A745
W: Some index files failed to download. They have been ignored, or old ones used instead.
+ sh -c DEBIAN_FRONTEND=noninteractive apt-get -y -qq install docker-ce docker-ce-cli containerd.io docker-compose-plugin docker-ce-rootless-extras docker-buildx-plugin docker-model-plugin >/dev/null
+ sh -c docker version
Client: Docker Engine - Community
 Version:           28.5.1
 API version:       1.51
 Go version:        go1.24.8
 Git commit:        e180ab8
 Built:             Wed Oct  8 12:17:26 2025
 OS/Arch:           linux/amd64
 Context:           default

Server: Docker Engine - Community
 Engine:
  Version:          28.5.1
  API version:      1.51 (minimum version 1.24)
  Go version:       go1.24.8
  Git commit:       f8215cc
  Built:            Wed Oct  8 12:17:26 2025
  OS/Arch:          linux/amd64
  Experimental:     false
 containerd:
  Version:          v1.7.28
  GitCommit:        b98a3aace656320842a23f4a392a33f46af97866
 runc:
  Version:          1.3.0
  GitCommit:        v1.3.0-0-g4ca628d1
 docker-init:
  Version:          0.19.0
  GitCommit:        de40ad0

================================================================================

To run Docker as a non-privileged user, consider setting up the
Docker daemon in rootless mode for your user:

    dockerd-rootless-setuptool.sh install

Visit https://docs.docker.com/go/rootless/ to learn about rootless mode.


To run the Docker daemon as a fully privileged service, but granting non-root
users access, refer to https://docs.docker.com/go/daemon-access/

WARNING: Access to the remote API on a privileged Docker daemon is equivalent
         to root access on the host. Refer to the 'Docker daemon attack surface'
         documentation for details: https://docs.docker.com/go/attack-surface/

================================================================================

[0;32m[2025-10-22 00:03:13] SUCCESS:[0m Docker installed successfully
Failed to start docker.service: Unit docker.service not found.
[0;34m[2025-10-22 00:05:32][0m Starting deployment script
[0;34m[2025-10-22 00:05:32][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-22 00:05:40] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-22 00:05:46] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-22 00:05:50][0m Using branch: master

[0;34m[2025-10-22 00:05:50][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-22 00:06:01] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-22 00:06:08] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-22 00:06:12] SUCCESS:[0m Port validated

[0;34m[2025-10-22 00:06:12][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-22 00:06:12][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-22 00:06:12][0m Branch: master
[0;34m[2025-10-22 00:06:12][0m SSH Username: root
[0;34m[2025-10-22 00:06:12][0m Server IP: 161.35.230.138
[0;34m[2025-10-22 00:06:12][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-22 00:06:12][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-22 00:06:12] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-22 00:06:12][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-22 00:06:12][0m Repository name: pick-me-backend
[0;34m[2025-10-22 00:06:12][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:06:12][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-22 00:06:12][0m No local changes detected
[0;34m[2025-10-22 00:06:12][0m Fetching latest changes from remote...
[0;34m[2025-10-22 00:06:15][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-22 00:06:17] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-22 00:06:17][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-22 00:06:17][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-22 00:06:17][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:06:17][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:06:17][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-22 00:06:17] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:06:17][0m Checking for Docker configuration files...
[0;34m[2025-10-22 00:06:17][0m Found: Dockerfile
[0;32m[2025-10-22 00:06:17] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-22 00:06:17][0m Validating Dockerfile...
[0;34m[2025-10-22 00:06:17][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-22 00:06:17] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-22 00:06:17][0m Project structure overview:
[0;34m[2025-10-22 00:06:17][0m   - ./Dockerfile
[0;34m[2025-10-22 00:06:17][0m   - ./.env
[0;32m[2025-10-22 00:06:17] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-22 00:06:17][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:06:17][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-22 00:06:17][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-22 00:06:18] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-22 00:06:18][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-22 00:06:23] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-22 00:06:23] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-22 00:06:23][0m SSH connection established and verified
[0;34m[2025-10-22 00:06:23][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-22 00:06:23][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-22 00:06:23][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-22 00:06:23][0m Updating package lists on remote server...
[0;32m[2025-10-22 00:06:29] SUCCESS:[0m Package lists updated successfully
[0;34m[2025-10-22 00:06:29][0m Checking Docker installation...
[0;34m[2025-10-22 00:06:35][0m Docker not found or not working. Installing Docker...
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-113-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Oct 21 23:06:21 UTC 2025

  System load:  0.0               Processes:             94
  Usage of /:   21.5% of 9.51GB   Users logged in:       1
  Memory usage: 44%               IPv4 address for eth0: 161.35.230.138
  Swap usage:   0%                IPv4 address for eth0: 10.48.0.5

Expanded Security Maintenance for Applications is not enabled.

168 updates can be applied immediately.
108 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Tue Oct 21 23:03:17 2025 from 129.0.226.19
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# exit
[?2004llogout
[0;34m[2025-10-22 00:15:49][0m Starting deployment script
[0;34m[2025-10-22 00:15:49][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-22 00:15:51] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-22 00:15:57] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-22 00:16:00][0m Using branch: master

[0;34m[2025-10-22 00:16:00][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-22 00:16:13] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-22 00:16:20] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-22 00:16:23] SUCCESS:[0m Port validated

[0;34m[2025-10-22 00:16:23][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-22 00:16:23][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-22 00:16:23][0m Branch: master
[0;34m[2025-10-22 00:16:23][0m SSH Username: root
[0;34m[2025-10-22 00:16:23][0m Server IP: 161.35.230.138
[0;34m[2025-10-22 00:16:23][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-22 00:16:23][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-22 00:16:23] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-22 00:16:23][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-22 00:16:23][0m Repository name: pick-me-backend
[0;34m[2025-10-22 00:16:23][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:16:23][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-22 00:16:23][0m No local changes detected
[0;34m[2025-10-22 00:16:23][0m Fetching latest changes from remote...
[0;34m[2025-10-22 00:16:26][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-22 00:16:29] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-22 00:16:29][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-22 00:16:29][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-22 00:16:29][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:16:29][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:16:29][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-22 00:16:29] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:16:29][0m Checking for Docker configuration files...
[0;34m[2025-10-22 00:16:29][0m Found: Dockerfile
[0;32m[2025-10-22 00:16:29] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-22 00:16:29][0m Validating Dockerfile...
[0;34m[2025-10-22 00:16:29][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-22 00:16:29] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-22 00:16:29][0m Project structure overview:
[0;34m[2025-10-22 00:16:29][0m   - ./Dockerfile
[0;34m[2025-10-22 00:16:29][0m   - ./.env
[0;32m[2025-10-22 00:16:29] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-22 00:16:29][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:16:29][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-22 00:16:29][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-22 00:16:30] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-22 00:16:30][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-22 00:16:36] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-22 00:16:36] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-22 00:16:36][0m SSH connection established and verified
[0;34m[2025-10-22 00:16:36][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-22 00:16:36][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-22 00:16:36][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-22 00:16:36][0m Updating package lists on remote server...
[0;32m[2025-10-22 00:16:51] SUCCESS:[0m Package lists updated successfully
[0;34m[2025-10-22 00:16:51][0m Checking Docker installation...
[0;34m[2025-10-22 00:16:54][0m Docker not found or not working. Installing Docker...
# Executing docker install script, commit: 86415efcfe5f8d966625843da41a0f798238cce5
+ sh -c apt-get -qq update >/dev/null
+ sh -c DEBIAN_FRONTEND=noninteractive apt-get -y -qq install ca-certificates curl >/dev/null
+ sh -c install -m 0755 -d /etc/apt/keyrings
+ sh -c curl -fsSL "https://download.docker.com/linux/ubuntu/gpg" -o /etc/apt/keyrings/docker.asc
+ sh -c chmod a+r /etc/apt/keyrings/docker.asc
+ sh -c echo "deb [arch=amd64 signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu jammy stable" > /etc/apt/sources.list.d/docker.list
+ sh -c apt-get -qq update >/dev/null
+ sh -c DEBIAN_FRONTEND=noninteractive apt-get -y -qq install docker-ce docker-ce-cli containerd.io docker-compose-plugin docker-ce-rootless-extras docker-buildx-plugin docker-model-plugin >/dev/null
+ sh -c docker version
Client: Docker Engine - Community
 Version:           28.5.1
 API version:       1.51
 Go version:        go1.24.8
 Git commit:        e180ab8
 Built:             Wed Oct  8 12:17:03 2025
 OS/Arch:           linux/amd64
 Context:           default

Server: Docker Engine - Community
 Engine:
  Version:          28.5.1
  API version:      1.51 (minimum version 1.24)
  Go version:       go1.24.8
  Git commit:       f8215cc
  Built:            Wed Oct  8 12:17:03 2025
  OS/Arch:          linux/amd64
  Experimental:     false
 containerd:
  Version:          v1.7.28
  GitCommit:        b98a3aace656320842a23f4a392a33f46af97866
 runc:
  Version:          1.3.0
  GitCommit:        v1.3.0-0-g4ca628d1
 docker-init:
  Version:          0.19.0
  GitCommit:        de40ad0

================================================================================

To run Docker as a non-privileged user, consider setting up the
Docker daemon in rootless mode for your user:

    dockerd-rootless-setuptool.sh install

Visit https://docs.docker.com/go/rootless/ to learn about rootless mode.


To run the Docker daemon as a fully privileged service, but granting non-root
users access, refer to https://docs.docker.com/go/daemon-access/

WARNING: Access to the remote API on a privileged Docker daemon is equivalent
         to root access on the host. Refer to the 'Docker daemon attack surface'
         documentation for details: https://docs.docker.com/go/attack-surface/

================================================================================

[0;32m[2025-10-22 00:17:36] SUCCESS:[0m Docker installed successfully
Synchronizing state of docker.service with SysV service script with /usr/lib/systemd/systemd-sysv-install.
Executing: /usr/lib/systemd/systemd-sysv-install enable docker
[0;34m[2025-10-22 00:17:43][0m Checking Docker Compose installation...
./deploy.sh: eval: line 606: syntax error near unexpected token `('
./deploy.sh: eval: line 606: `ssh -i "/home/pelz/.ssh/id_ed25519" -o StrictHostKeyChecking=no -o ConnectTimeout=10 -o BatchMode=yes -o LogLevel=ERROR root@161.35.230.138 (docker-compose --version || docker compose version) 2>/dev/null && echo 'COMPOSE_WORKS' || echo 'COMPOSE_MISSING''
[0;34m[2025-10-22 00:22:34][0m Starting deployment script
[0;34m[2025-10-22 00:22:34][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;31m[2025-10-22 00:22:34] ERROR:[0m Invalid Git repository URL format. Must be HTTPS (https://...git) or SSH (git@...git) format.
[1;33m[2025-10-22 00:22:34] WARNING:[0m Validation failed. Please try again.
Git Repository URL: [0;32m[2025-10-22 00:22:45] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-22 00:22:50] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-22 00:22:54][0m Using branch: master

[0;34m[2025-10-22 00:22:54][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-22 00:23:08] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-22 00:23:15] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-22 00:23:19] SUCCESS:[0m Port validated

[0;34m[2025-10-22 00:23:19][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-22 00:23:19][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-22 00:23:19][0m Branch: master
[0;34m[2025-10-22 00:23:19][0m SSH Username: root'
[0;34m[2025-10-22 00:23:19][0m Server IP: 161.35.230.138
[0;34m[2025-10-22 00:23:19][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-22 00:23:19][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-22 00:23:19] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-22 00:23:19][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-22 00:23:19][0m Repository name: pick-me-backend
[0;34m[2025-10-22 00:23:19][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:23:19][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-22 00:23:19][0m No local changes detected
[0;34m[2025-10-22 00:23:19][0m Fetching latest changes from remote...
[0;34m[2025-10-22 00:23:22][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-22 00:23:24] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-22 00:23:24][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-22 00:23:24][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-22 00:23:24][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:23:24][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:23:24][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-22 00:23:24] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:23:24][0m Checking for Docker configuration files...
[0;34m[2025-10-22 00:23:24][0m Found: Dockerfile
[0;32m[2025-10-22 00:23:24] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-22 00:23:24][0m Validating Dockerfile...
[0;34m[2025-10-22 00:23:25][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-22 00:23:25] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-22 00:23:25][0m Project structure overview:
[0;34m[2025-10-22 00:23:25][0m   - ./Dockerfile
[0;34m[2025-10-22 00:23:25][0m   - ./.env
[0;32m[2025-10-22 00:23:25] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-22 00:23:25][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:23:25][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-22 00:23:25][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-22 00:23:26] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-22 00:23:26][0m Testing SSH connection to root'@161.35.230.138...
./deploy.sh: eval: line 530: unexpected EOF while looking for matching `''
[0;31m[2025-10-22 00:23:26] ERROR:[0m SSH connection test failed
[0;34m[2025-10-22 00:23:26][0m Please check:
[0;34m[2025-10-22 00:23:26][0m   - SSH key permissions: chmod 600 /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-22 00:23:26][0m   - SSH key is added to authorized_keys on server
[0;34m[2025-10-22 00:23:26][0m   - Server is accessible on port 22
[0;34m[2025-10-22 00:23:26][0m   - Username and IP are correct
[0;34m[2025-10-22 00:24:03][0m Starting deployment script
[0;34m[2025-10-22 00:24:03][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-22 00:24:11] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-22 00:24:17] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-22 00:24:20][0m Using branch: master

[0;34m[2025-10-22 00:24:20][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-22 00:24:34] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-22 00:24:40] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-22 00:24:43] SUCCESS:[0m Port validated

[0;34m[2025-10-22 00:24:43][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-22 00:24:43][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-22 00:24:43][0m Branch: master
[0;34m[2025-10-22 00:24:43][0m SSH Username: root
[0;34m[2025-10-22 00:24:43][0m Server IP: 161.35.230.138
[0;34m[2025-10-22 00:24:43][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-22 00:24:43][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-22 00:24:43] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-22 00:24:43][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-22 00:24:43][0m Repository name: pick-me-backend
[0;34m[2025-10-22 00:24:43][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:24:43][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-22 00:24:43][0m No local changes detected
[0;34m[2025-10-22 00:24:43][0m Fetching latest changes from remote...
[0;34m[2025-10-22 00:24:47][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-22 00:24:50] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-22 00:24:50][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-22 00:24:50][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-22 00:24:50][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:24:50][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:24:50][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-22 00:24:50] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:24:50][0m Checking for Docker configuration files...
[0;34m[2025-10-22 00:24:50][0m Found: Dockerfile
[0;32m[2025-10-22 00:24:50] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-22 00:24:50][0m Validating Dockerfile...
[0;34m[2025-10-22 00:24:50][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-22 00:24:50] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-22 00:24:50][0m Project structure overview:
[0;34m[2025-10-22 00:24:50][0m   - ./Dockerfile
[0;34m[2025-10-22 00:24:50][0m   - ./.env
[0;32m[2025-10-22 00:24:50] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-22 00:24:50][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:24:50][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-22 00:24:50][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-22 00:24:51] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-22 00:24:51][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-22 00:24:57] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-22 00:24:57] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-22 00:24:57][0m SSH connection established and verified
[0;34m[2025-10-22 00:24:57][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-22 00:24:57][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-22 00:24:57][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-22 00:24:57][0m Updating package lists on remote server...
[0;32m[2025-10-22 00:25:07] SUCCESS:[0m Package lists updated successfully
[0;34m[2025-10-22 00:25:07][0m Checking Docker installation...
[0;32m[2025-10-22 00:25:18] SUCCESS:[0m Docker is already installed and working: Docker version 28.5.1, build e180ab8
[0;34m[2025-10-22 00:25:18][0m Checking Docker Compose installation...
[0;32m[2025-10-22 00:25:24] SUCCESS:[0m Docker Compose is already installed
[0;34m[2025-10-22 00:25:24][0m Checking Nginx installation...
[0;34m[2025-10-22 00:25:29][0m Nginx not found. Installing Nginx...
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-113-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Oct 21 23:24:55 UTC 2025

  System load:  0.0               Processes:             94
  Usage of /:   27.2% of 9.51GB   Users logged in:       1
  Memory usage: 52%               IPv4 address for eth0: 161.35.230.138
  Swap usage:   0%                IPv4 address for eth0: 10.48.0.5

Expanded Security Maintenance for Applications is not enabled.

168 updates can be applied immediately.
108 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Tue Oct 21 23:06:40 2025 from 129.0.226.19
[?2004h]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# [K]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# [K]0;root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01: ~root@ubuntu-s-1vcpu-512mb-10gb-sfo3-01:~# exit
[?2004llogout
[0;34m[2025-10-22 00:30:00][0m Starting deployment script
[0;34m[2025-10-22 00:30:00][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-22 00:30:07] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-22 00:30:13] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-22 00:30:17][0m Using branch: master

[0;34m[2025-10-22 00:30:17][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-22 00:30:28] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-22 00:30:35] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-22 00:30:38] SUCCESS:[0m Port validated

[0;34m[2025-10-22 00:30:38][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-22 00:30:38][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-22 00:30:38][0m Branch: master
[0;34m[2025-10-22 00:30:38][0m SSH Username: root
[0;34m[2025-10-22 00:30:38][0m Server IP: 161.35.230.138
[0;34m[2025-10-22 00:30:38][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-22 00:30:38][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-22 00:30:38] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-22 00:30:38][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-22 00:30:38][0m Repository name: pick-me-backend
[0;34m[2025-10-22 00:30:38][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:30:38][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-22 00:30:38][0m No local changes detected
[0;34m[2025-10-22 00:30:38][0m Fetching latest changes from remote...
[0;34m[2025-10-22 00:30:41][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-22 00:30:45] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-22 00:30:45][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-22 00:30:45][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-22 00:30:45][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:30:45][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:30:45][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-22 00:30:45] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:30:45][0m Checking for Docker configuration files...
[0;34m[2025-10-22 00:30:45][0m Found: Dockerfile
[0;32m[2025-10-22 00:30:45] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-22 00:30:45][0m Validating Dockerfile...
[0;34m[2025-10-22 00:30:45][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-22 00:30:45] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-22 00:30:45][0m Project structure overview:
[0;34m[2025-10-22 00:30:45][0m   - ./Dockerfile
[0;34m[2025-10-22 00:30:45][0m   - ./.env
[0;32m[2025-10-22 00:30:45] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-22 00:30:45][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 00:30:45][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-22 00:30:45][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-22 00:30:47] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-22 00:30:47][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-22 00:30:53] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-22 00:30:53] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-22 00:30:53][0m SSH connection established and verified
[0;34m[2025-10-22 00:30:53][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-22 00:30:53][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-22 00:30:53][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-22 00:30:53][0m Updating package lists on remote server...
[0;32m[2025-10-22 00:31:03] SUCCESS:[0m Package lists updated successfully
[0;34m[2025-10-22 00:31:03][0m Checking Docker installation...
[0;32m[2025-10-22 00:31:13] SUCCESS:[0m Docker is already installed and working: Docker version 28.5.1, build e180ab8
[0;34m[2025-10-22 00:31:13][0m Checking Docker Compose installation...
[0;32m[2025-10-22 00:31:18] SUCCESS:[0m Docker Compose is already installed
[0;34m[2025-10-22 00:31:18][0m Checking Nginx installation...
[0;34m[2025-10-22 00:31:23][0m Nginx not found. Installing Nginx...
Selecting previously unselected package fonts-dejavu-core.
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (This frontend requires a controlling tty.)
debconf: falling back to frontend: Teletype
dpkg-preconfigure: unable to re-open stdin: 
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 64688 files and directories currently installed.)
Preparing to unpack .../00-fonts-dejavu-core_2.37-2build1_all.deb ...
Unpacking fonts-dejavu-core (2.37-2build1) ...
Selecting previously unselected package fontconfig-config.
Preparing to unpack .../01-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...
Unpacking fontconfig-config (2.13.1-4.2ubuntu5) ...
Selecting previously unselected package libdeflate0:amd64.
Preparing to unpack .../02-libdeflate0_1.10-2_amd64.deb ...
Unpacking libdeflate0:amd64 (1.10-2) ...
Selecting previously unselected package libfontconfig1:amd64.
Preparing to unpack .../03-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...
Unpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...
Selecting previously unselected package libjpeg-turbo8:amd64.
Preparing to unpack .../04-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...
Unpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...
Selecting previously unselected package libjpeg8:amd64.
Preparing to unpack .../05-libjpeg8_8c-2ubuntu10_amd64.deb ...
Unpacking libjpeg8:amd64 (8c-2ubuntu10) ...
Selecting previously unselected package libjbig0:amd64.
Preparing to unpack .../06-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...
Unpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...
Selecting previously unselected package libwebp7:amd64.
Preparing to unpack .../07-libwebp7_1.2.2-2ubuntu0.22.04.2_amd64.deb ...
Unpacking libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...
Selecting previously unselected package libtiff5:amd64.
Preparing to unpack .../08-libtiff5_4.3.0-6ubuntu0.12_amd64.deb ...
Unpacking libtiff5:amd64 (4.3.0-6ubuntu0.12) ...
Selecting previously unselected package libxpm4:amd64.
Preparing to unpack .../09-libxpm4_1%3a3.5.12-1ubuntu0.22.04.2_amd64.deb ...
Unpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...
Selecting previously unselected package libgd3:amd64.
Preparing to unpack .../10-libgd3_2.3.0-2ubuntu2.3_amd64.deb ...
Unpacking libgd3:amd64 (2.3.0-2ubuntu2.3) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../11-nginx-common_1.18.0-6ubuntu14.7_all.deb ...
Unpacking nginx-common (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-http-geoip2.
Preparing to unpack .../12-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-http-image-filter.
Preparing to unpack .../13-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-http-xslt-filter.
Preparing to unpack .../14-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-mail.
Preparing to unpack .../15-libnginx-mod-mail_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-stream.
Preparing to unpack .../16-libnginx-mod-stream_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-stream-geoip2.
Preparing to unpack .../17-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package nginx-core.
Preparing to unpack .../18-nginx-core_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking nginx-core (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package nginx.
Preparing to unpack .../19-nginx_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking nginx (1.18.0-6ubuntu14.7) ...
Setting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...
Setting up libdeflate0:amd64 (1.10-2) ...
Setting up nginx-common (1.18.0-6ubuntu14.7) ...
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.
Setting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...
Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...
Setting up fonts-dejavu-core (2.37-2build1) ...
Setting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...
Setting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...
Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...
Setting up libjpeg8:amd64 (8c-2ubuntu10) ...
Setting up libnginx-mod-mail (1.18.0-6ubuntu14.7) ...
Setting up fontconfig-config (2.13.1-4.2ubuntu5) ...
Setting up libnginx-mod-stream (1.18.0-6ubuntu14.7) ...
Setting up libtiff5:amd64 (4.3.0-6ubuntu0.12) ...
Setting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...
Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...
Setting up libgd3:amd64 (2.3.0-2ubuntu2.3) ...
Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...
Setting up nginx-core (1.18.0-6ubuntu14.7) ...
 * Upgrading binary nginx
   ...done.
Setting up nginx (1.18.0-6ubuntu14.7) ...
Processing triggers for ufw (0.36.1-4ubuntu0.1) ...
Processing triggers for man-db (2.10.2-1) ...
Processing triggers for libc-bin (2.35-0ubuntu3.8) ...

Running kernel seems to be up-to-date.

Services to be restarted:
 systemctl restart packagekit.service

Service restarts being deferred:
 systemctl restart unattended-upgrades.service

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
[0;32m[2025-10-22 00:31:43] SUCCESS:[0m Nginx installed successfully
[0;34m[2025-10-22 00:31:43][0m Enabling and starting services...
Synchronizing state of docker.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable docker
[0;32m[2025-10-22 00:31:50] SUCCESS:[0m Docker service enabled and started
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Failed to start nginx.service: Unit nginx.service not found.
[0;31m[2025-10-22 00:31:54] ERROR:[0m Failed to enable/start Nginx service
[0;34m[2025-10-22 01:13:53][0m Starting deployment script
[0;34m[2025-10-22 01:13:53][0m Starting parameter collection...
==========================================
  Dockerized Application Deployment
  Section 1: Parameter Collection
==========================================

Git Repository URL: [0;32m[2025-10-22 01:14:00] SUCCESS:[0m Git URL validated

Note: Your PAT will be hidden while typing
Personal Access Token (PAT): 
[0;32m[2025-10-22 01:14:06] SUCCESS:[0m PAT validated

Branch name [default: main]: [0;34m[2025-10-22 01:14:10][0m Using branch: master

[0;34m[2025-10-22 01:14:10][0m Remote Server SSH Details:
SSH Username: Server IP address: [0;32m[2025-10-22 01:14:24] SUCCESS:[0m IP address validated
SSH key path [default: ~/.ssh/id_rsa]: [0;32m[2025-10-22 01:14:32] SUCCESS:[0m SSH key validated

Application port (internal container port): [0;32m[2025-10-22 01:14:36] SUCCESS:[0m Port validated

[0;34m[2025-10-22 01:14:36][0m Parameter Collection Complete:
------------------------------------------
[0;34m[2025-10-22 01:14:36][0m Git Repository: https://github.com/Peliah/pick-me-backend.git
[0;34m[2025-10-22 01:14:36][0m Branch: master
[0;34m[2025-10-22 01:14:36][0m SSH Username: root
[0;34m[2025-10-22 01:14:36][0m Server IP: 161.35.230.138
[0;34m[2025-10-22 01:14:36][0m SSH Key: /home/pelz/.ssh/id_ed25519
[0;34m[2025-10-22 01:14:36][0m App Port: 3040
------------------------------------------
[0;32m[2025-10-22 01:14:36] SUCCESS:[0m All parameters collected and validated successfully
[0;34m[2025-10-22 01:14:36][0m Starting Section 2: Repository Cloning
==========================================
  Section 2: Repository Cloning
==========================================
[0;34m[2025-10-22 01:14:36][0m Repository name: pick-me-backend
[0;34m[2025-10-22 01:14:36][0m Target directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 01:14:36][0m Repository directory already exists. Pulling latest changes...
[0;34m[2025-10-22 01:14:36][0m No local changes detected
[0;34m[2025-10-22 01:14:36][0m Fetching latest changes from remote...
[0;34m[2025-10-22 01:14:38][0m Pulling latest changes...
From https://github.com/Peliah/pick-me-backend
 * branch            master     -> FETCH_HEAD
Already up to date.
[0;32m[2025-10-22 01:14:40] SUCCESS:[0m Repository updated successfully
[0;34m[2025-10-22 01:14:40][0m Starting Section 3: Navigate and Verify Docker Files
==========================================
  Section 3: Navigate and Verify Docker Files
==========================================
[0;34m[2025-10-22 01:14:40][0m Debug: Current directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script
[0;34m[2025-10-22 01:14:40][0m Debug: REPO_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 01:14:40][0m Debug: CLONE_DIR value: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 01:14:40][0m Navigating to repository directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;32m[2025-10-22 01:14:40] SUCCESS:[0m Successfully navigated to: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 01:14:40][0m Checking for Docker configuration files...
[0;34m[2025-10-22 01:14:40][0m Found: Dockerfile
[0;32m[2025-10-22 01:14:40] SUCCESS:[0m Found 1 Docker configuration file(s): Dockerfile
[0;34m[2025-10-22 01:14:40][0m Validating Dockerfile...
[0;34m[2025-10-22 01:14:40][0m Dockerfile uses base image: node:20-bullseye-slim
[0;32m[2025-10-22 01:14:40] SUCCESS:[0m Dockerfile validation passed
[0;34m[2025-10-22 01:14:40][0m Project structure overview:
[0;34m[2025-10-22 01:14:40][0m   - ./Dockerfile
[0;34m[2025-10-22 01:14:40][0m   - ./.env
[0;32m[2025-10-22 01:14:40] SUCCESS:[0m Section 3 completed successfully
[0;34m[2025-10-22 01:14:40][0m Current working directory: /home/pelz/Documents/Code/HNG-13/devops-tasks/docker-deploy-script/pick-me-backend
[0;34m[2025-10-22 01:14:40][0m Starting Section 4: SSH into Remote Server
==========================================
  Section 4: SSH into Remote Server
==========================================
[0;34m[2025-10-22 01:14:40][0m Testing basic network connectivity to 161.35.230.138...
[0;32m[2025-10-22 01:14:41] SUCCESS:[0m Network connectivity test passed
[0;34m[2025-10-22 01:14:41][0m Testing SSH connection to root@161.35.230.138...
SSH connection successful
[0;32m[2025-10-22 01:14:45] SUCCESS:[0m SSH connection test passed
[0;32m[2025-10-22 01:14:45] SUCCESS:[0m Section 4 completed successfully
[0;34m[2025-10-22 01:14:45][0m SSH connection established and verified
[0;34m[2025-10-22 01:14:45][0m Ready for remote environment setup in Section 5
[0;34m[2025-10-22 01:14:45][0m Starting Section 5: Prepare Remote Environment
==========================================
  Section 5: Prepare Remote Environment
==========================================
[0;34m[2025-10-22 01:14:45][0m Preparing remote server environment on 161.35.230.138...
[0;34m[2025-10-22 01:14:45][0m Updating package lists on remote server...
[0;32m[2025-10-22 01:14:57] SUCCESS:[0m Package lists updated successfully
[0;34m[2025-10-22 01:14:57][0m Checking Docker installation...
[0;32m[2025-10-22 01:15:03] SUCCESS:[0m Docker is already installed and working: Docker version 28.5.1, build e180ab8
[0;34m[2025-10-22 01:15:03][0m Checking Docker Compose installation...
[0;32m[2025-10-22 01:15:07] SUCCESS:[0m Docker Compose is already installed
[0;34m[2025-10-22 01:15:07][0m Checking Nginx installation...
[0;32m[2025-10-22 01:15:10] SUCCESS:[0m Nginx is already installed
[0;34m[2025-10-22 01:15:10][0m Enabling and starting services...
Synchronizing state of docker.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable docker
[0;32m[2025-10-22 01:15:25] SUCCESS:[0m Docker service enabled and started
[0;34m[2025-10-22 01:15:25][0m Setting up Nginx service...
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
Failed to start nginx.service: Unit nginx.service not found.
[1;33m[2025-10-22 01:15:34] WARNING:[0m Nginx service exists but failed to start. Checking status...
● nginx.service - A high performance web server and a reverse proxy server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: active (running) since Tue 2025-10-21 23:31:35 UTC; 44min ago
       Docs: man:nginx(8)
   Main PID: 23300 (nginx)
      Tasks: 2 (limit: 498)
     Memory: 5.5M
        CPU: 59ms
     CGroup: /system.slice/nginx.service
             ├─23300 "nginx: master process /usr/sbin/nginx -g daemon on; master_process on;"
             └─23303 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
[1;33m[2025-10-22 01:15:37] WARNING:[0m Continuing deployment despite Nginx service issues
[0;34m[2025-10-22 01:15:37][0m Confirming installation versions...
[0;32m[2025-10-22 01:15:47] SUCCESS:[0m Installation versions confirmed:
[0;34m[2025-10-22 01:15:47][0m   Docker: Docker version 28.5.1, build e180ab8
[0;34m[2025-10-22 01:15:47][0m   Docker Compose: 2.40.1
[0;34m[2025-10-22 01:15:47][0m   Nginx: nginx version: nginx/1.18.0 (Ubuntu)
[0;34m[2025-10-22 01:15:47][0m Creating deployment directory: /home/root/deployments/pick-me-backend
[0;32m[2025-10-22 01:15:50] SUCCESS:[0m Deployment directory created successfully
[0;32m[2025-10-22 01:15:50] SUCCESS:[0m Section 5 completed successfully
[0;34m[2025-10-22 01:15:50][0m Remote environment is ready for deployment
[0;32m[2025-10-22 01:15:50] SUCCESS:[0m Sections 1-5 completed successfully

[0;34m[2025-10-22 01:15:50][0m Next steps:
[0;34m[2025-10-22 01:15:50][0m 1. Transfer application files to remote server
[0;34m[2025-10-22 01:15:50][0m 2. Build Docker images on remote server
[0;34m[2025-10-22 01:15:50][0m 3. Deploy application using docker-compose
[0;34m[2025-10-22 01:15:50][0m 4. Start containers and verify deployment

[0;34m[2025-10-22 01:15:50][0m Remote server is fully prepared and ready for deployment
[0;34m[2025-10-22 01:15:50][0m Deployment directory: /home/root/deployments/pick-me-backend
[0;34m[2025-10-22 01:15:50][0m Application port: 3040
